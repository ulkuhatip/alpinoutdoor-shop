<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Duyuru | AlpinOutdoor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .announcement-box {
            max-width: 800px;
            margin: 120px auto;
            background:#fff;
            padding:30px;
            border-radius:12px;
            box-shadow:0 4px 15px rgba(0,0,0,0.1);
        }
        h2 { color:#b48d3f; font-weight:600; }
        .date { color:#777; margin-bottom:20px; }
        .file-download {
            display:inline-block;
            margin-top:15px;
            padding:10px 20px;
            background:#b48d3f;
            color:white;
            border-radius:6px;
            text-decoration:none;
            font-weight:600;
        }
    </style>
</head>

<body>

<nav class="fh5co-nav" role="navigation">
    <div class="container">
        <div id="fh5co-logo"><a href="index.html">AlpinOutdoorÂ®</a></div>
    </div>
</nav>

<div class="announcement-box">
    <h2 id="annTitle"></h2>
    <p class="date" id="annDate"></p>
    <p id="annContent"></p>
    <a id="fileLink" class="file-download" target="_blank" style="display:none;">ðŸ“„ DosyayÄ± Ä°ndir</a>

    <br><br>
    <a href="index.html" class="btn btn-primary">Ana Sayfaya DÃ¶n</a>
</div>

<script>
// URL'deki id deÄŸerini al
const params = new URLSearchParams(window.location.search);
const id = Number(params.get("id"));

// JSON'dan duyuru oku
fetch("data/announcements.json")
  .then(res => res.json())
  .then(anns => {

    // ID eÅŸleÅŸen duyuruyu bul
    let ann = anns.find(a => a.id === id);

    if (!ann) {
        document.querySelector(".announcement-box").innerHTML = `
            <h2>Duyuru BulunamadÄ±</h2>
            <a href="index.html" class="btn btn-primary">Ana Sayfaya DÃ¶n</a>
        `;
        return;
    }

    // BaÅŸlÄ±k
    document.getElementById("annTitle").innerText = ann.title;

    // Tarih
    document.getElementById("annDate").innerText = "YayÄ±nlanma: " + ann.date;

    // Ä°Ã§erik
    document.getElementById("annContent").innerText = ann.content;

    // Dosya varsa gÃ¶ster
    if (ann.file) {
        const link = document.getElementById("fileLink");
        link.style.display = "inline-block";
        link.href = ann.file.url;
        link.innerText = "ðŸ“„ " + ann.file.name + " (Ä°ndir)";
    }
  })
  .catch(() => {
      document.querySelector(".announcement-box").innerHTML = `
          <h2>Duyuru Verisi YÃ¼klenemedi</h2>
          <a href="index.html" class="btn btn-primary">Ana Sayfaya DÃ¶n</a>
      `;
  });
</script>

</body>
</html>
